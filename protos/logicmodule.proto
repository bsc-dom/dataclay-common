syntax = "proto3";
package protos.logicmodule;
import "protos/logicmodule_messages.proto";
import "protos/common_messages.proto";
option java_package = "es.bsc.dataclay.communication.grpc.generated.logicmodule";
option java_outer_classname="LogicModuleGrpcService";
// Interface exported by the server.
service LogicModule {

	rpc autoregisterSL(AutoRegisterSLRequest) returns (protos.common.ExceptionInfo) {}
	rpc autoregisterEE(AutoRegisterEERequest) returns (AutoRegisterEEResponse) {}
	rpc unregisterStorageLocation(UnregisterStorageLocationRequest) returns (protos.common.ExceptionInfo) {}
	rpc unregisterExecutionEnvironment(UnregisterExecutionEnvironmentRequest) returns (protos.common.ExceptionInfo) {}
	rpc checkAlive(protos.common.EmptyMessage) returns (protos.common.ExceptionInfo) {}
	rpc notifyExecutionEnvironmentShutdown(NotifyExecutionEnvironmentShutdownRequest) returns (protos.common.ExceptionInfo) {}
	rpc notifyStorageLocationShutdown(NotifyStorageLocationShutdownRequest) returns (protos.common.ExceptionInfo) {}
	rpc existsActiveEnvironmentsForSL(ExistsActiveEnvironmentsForSLRequest) returns (ExistsActiveEnvironmentsForSLResponse) {}

	rpc performSetOfNewAccounts(PerformSetAccountsRequest) returns (PerformSetAccountsResponse) {}
	rpc performSetOfOperations(PerformSetOperationsRequest) returns (PerformSetOperationsResponse) {}

	rpc publishAddress(PublishAddressRequest) returns (protos.common.ExceptionInfo) {}

	// Account Manager
	rpc newAccountNoAdmin(NewAccountNoAdminRequest) returns (NewAccountResponse) {}
	rpc newAccount(NewAccountRequest) returns (NewAccountResponse) {}
	rpc getAccountID(GetAccountIDRequest) returns (GetAccountIDResponse) {}
	rpc getAccountList(GetAccountListRequest) returns (GetAccountListResponse) {}

	// Session Manager
	rpc newSession(NewSessionRequest) returns (NewSessionResponse) {}
	rpc getInfoOfSessionForDS(GetInfoOfSessionForDSRequest) returns (GetInfoOfSessionForDSResponse) {}

	// Namespace Manager
	rpc newNamespace(NewNamespaceRequest) returns (NewNamespaceResponse) {}
	rpc removeNamespace(RemoveNamespaceRequest) returns (protos.common.ExceptionInfo) {}
	rpc getNamespaceID(GetNamespaceIDRequest) returns (GetNamespaceIDResponse) {}
	rpc getNamespaceLang(GetNamespaceLangRequest) returns (GetNamespaceLangResponse) {}
	rpc getObjectDataSetID(GetObjectDataSetIDRequest) returns (GetObjectDataSetIDResponse) {}
	rpc importInterface(ImportInterfaceRequest) returns (protos.common.ExceptionInfo) {}
	rpc importContract(ImportContractRequest) returns (protos.common.ExceptionInfo) {}
	rpc getInfoOfClassesInNamespace(GetInfoOfClassesInNamespaceRequest) returns (GetInfoOfClassesInNamespaceResponse) {}
	rpc getImportedClassesInfoInNamespace(GetImportedClassesInfoInNamespaceRequest) returns (GetImportedClassesInfoInNamespaceResponse) {}
	rpc getClassIDfromImport(GetClassIDFromImportRequest) returns (GetClassIDFromImportResponse) {}
	rpc getNamespaces(GetNamespacesRequest) returns (GetNamespacesResponse) {}

	// DataSet Manager
	rpc newDataSet(NewDataSetRequest) returns (NewDataSetResponse) {}
	rpc removeDataSet(RemoveDataSetRequest) returns (protos.common.ExceptionInfo) {}
	rpc getDataSetID(GetDataSetIDRequest) returns (GetDataSetIDResponse) {}
	rpc checkDataSetIsPublic(CheckDataSetIsPublicRequest) returns (CheckDataSetIsPublicResponse) {}
	rpc getPublicDataSets(GetPublicDataSetsRequest) returns (GetPublicDataSetsResponse) {}
	rpc getAccountDataSets(GetAccountDataSetsRequest) returns (GetAccountDataSetsResponse) {}

	// Class Manager
	rpc newClass(NewClassRequest) returns (NewClassResponse) {}
	rpc removeClass(RemoveClassRequest) returns (protos.common.ExceptionInfo) {}
	rpc removeOperation(RemoveOperationRequest) returns (protos.common.ExceptionInfo) {}
	rpc removeImplementation(RemoveImplementationRequest) returns (protos.common.ExceptionInfo) {}
	rpc getOperationID(GetOperationIDRequest) returns (GetOperationIDResponse) {}
	rpc getPropertyID(GetPropertyIDRequest) returns (GetPropertyIDResponse) {}
	rpc getClassID(GetClassIDRequest) returns (GetClassIDResponse) {}
	rpc getClassInfo(GetClassInfoRequest) returns (GetClassInfoResponse) {}

	// Contract Manager
	rpc newContract(NewContractRequest) returns (NewContractResponse) {}
	rpc registerToPublicContract(RegisterToPublicContractRequest) returns (protos.common.ExceptionInfo) {}
	rpc registerToPublicContractOfNamespace(RegisterToPublicContractOfNamespaceRequest) returns (RegisterToPublicContractOfNamespaceResponse) {}
	rpc getContractIDsOfApplicant(GetContractIDsOfApplicantRequest) returns (GetContractIDsOfApplicantResponse) {}
	rpc getContractIDsOfProvider(GetContractIDsOfProviderRequest) returns (GetContractIDsOfProviderResponse) {}
	rpc getContractIDsOfApplicantWithProvider(GetContractsOfApplicantWithProvRequest) returns (GetContractsOfApplicantWithProvResponse) {}

	// DataContract Manager
	rpc newDataContract(NewDataContractRequest) returns (NewDataContractResponse) {}
	rpc registerToPublicDataContract(RegisterToPublicDataContractRequest) returns (protos.common.ExceptionInfo) {}
	rpc getDataContractIDsOfApplicant(GetDataContractIDsOfApplicantRequest) returns (GetDataContractIDsOfApplicantResponse) {}
	rpc getDataContractIDsOfProvider(GetDataContractIDsOfProviderRequest) returns (GetDataContractIDsOfProviderResponse) {}
	rpc getDataContractInfoOfApplicantWithProvider(GetDataContractInfoOfApplicantWithProvRequest) returns (GetDataContractInfoOfApplicantWithProvResponse) {}

	// Interface Manager
	rpc newInterface(NewInterfaceRequest) returns (NewInterfaceResponse) {}
	rpc getInterfaceInfo(GetInterfaceInfoRequest) returns (GetInterfaceInfoResponse) {}
	rpc removeInterface(RemoveInterfaceRequest) returns (protos.common.ExceptionInfo) {}

	// EE-SL information
	rpc getAllExecutionEnvironmentsInfo(GetAllExecutionEnvironmentsInfoRequest) returns (GetAllExecutionEnvironmentsInfoResponse) {}
	rpc getStorageLocationID(GetStorageLocationIDRequest) returns (GetStorageLocationIDResponse) {}
	rpc getStorageLocationInfo(GetStorageLocationInfoRequest) returns (GetStorageLocationInfoResponse) {}
	rpc getExecutionEnvironmentInfo(GetExecutionEnvironmentInfoRequest) returns (GetExecutionEnvironmentInfoResponse) {}

	// Object Metadata
	rpc getObjectInfo(GetObjectInfoRequest) returns (GetObjectInfoResponse) {}
	rpc getObjectFromAlias(GetObjectFromAliasRequest) returns (GetObjectFromAliasResponse) {}
	rpc deleteAlias(DeleteAliasRequest) returns (DeleteAliasResponse) {}
	rpc getObjectsMetaDataInfoOfClassForNM(GetObjectsMetaDataInfoOfClassForNMRequest) returns (GetObjectsMetaDataInfoOfClassForNMResponse) {}
	rpc addAlias(AddAliasRequest) returns (protos.common.ExceptionInfo) {}
	rpc registerObjectFromGC(RegisterObjectForGCRequest) returns (protos.common.ExceptionInfo) {}
	rpc unregisterObjects(UnregisterObjectsRequest) returns (protos.common.ExceptionInfo) {}
	rpc registerObjects(RegisterObjectsRequest) returns (RegisterObjectsResponse) {}
	rpc setDataSetIDFromGarbageCollector(SetDataSetIDFromGarbageCollectorRequest) returns (protos.common.ExceptionInfo) {}
	rpc getMetadataByOID(GetMetadataByOIDRequest) returns (GetMetadataByOIDResponse) {}
	rpc getNumObjects(protos.common.EmptyMessage) returns (protos.common.GetNumObjectsResponse) {}

	// Storage Location
	rpc setDataSetID(SetDataSetIDRequest) returns (protos.common.ExceptionInfo) {}
	rpc moveObject(MoveObjectRequest) returns (MoveObjectResponse) {}
	rpc setObjectReadOnly(SetObjectReadOnlyRequest) returns (protos.common.ExceptionInfo) {}
	rpc setObjectReadWrite(SetObjectReadWriteRequest) returns (protos.common.ExceptionInfo) {}

	// Execution Environment
	rpc executeImplementation(ExecuteImplementationRequest) returns (ExecuteImplementationResponse) {}
	rpc executeMethodOnTarget(ExecuteMethodOnTargetRequest) returns (ExecuteMethodOnTargetResponse) {}

	// Federation 
	rpc getDataClayID(protos.common.EmptyMessage) returns (GetDataClayIDResponse) {}
	rpc registerExternalDataClay(RegisterExternalDataClayRequest) returns (RegisterExternalDataClayResponse) {}
	rpc registerExternalDataClayOverrideAuthority(RegisterExternalDataClayOverrideAuthorityRequest) returns (RegisterExternalDataClayResponse) {}
	rpc notifyRegistrationOfExternalDataClay(NotifyRegistrationOfExternalDataClayRequest) returns (NotifyRegistrationOfExternalDataClayResponse) {}
	rpc getExternalDataClayInfo(GetExtDataClayInfoRequest) returns (GetExtDataClayInfoResponse) {}
	rpc getExternalDataclayId(GetExternalDataclayIDRequest) returns (GetExternalDataclayIDResponse) {}
	rpc getClassesInNamespace(GetClassesInNamespaceRequest) returns (GetClassesInNamespaceResponse) {}
	rpc importModelsFromExternalDataClay(ImportModelsFromExternalDataClayRequest) returns (protos.common.ExceptionInfo) {}

	// Stubs
	rpc getStubs(GetStubsRequest) returns (GetStubsResponse) {}
	rpc getBabelStubs(GetBabelStubsRequest) returns (GetBabelStubsResponse) {}

	// Notification Manager
	rpc registerECA(RegisterECARequest) returns (protos.common.ExceptionInfo) {}
	rpc adviseEvent(AdviseEventRequest) returns (protos.common.ExceptionInfo) {}

	// Prefetching 
	rpc isPrefetchingEnabled(protos.common.EmptyMessage) returns (IsPrefetchingEnabledResponse) {}
	
	// Others
	rpc getClassNameForDS(GetClassNameForDSRequest) returns (GetClassNameForDSResponse) {}
	rpc getClassNameAndNamespaceForDS(GetClassNameAndNamespaceForDSRequest) returns (GetClassNameAndNamespaceForDSResponse) {}
	rpc getContractIDOfDataClayProvider(GetContractIDOfDataClayProviderRequest) returns (GetContractIDOfDataClayProviderResponse) {}

	// Testing
	rpc objectExistsInDataClay(ObjectExistsInDataClayRequest) returns (ObjectExistsInDataClayResponse) {}

	// Others
	rpc closeSession(CloseSessionRequest) returns (protos.common.ExceptionInfo) {}
	rpc getMetadataByOIDForDS(GetMetadataByOIDForDSRequest) returns (GetMetadataByOIDForDSResponse) {}
	
	// Paraver
	rpc activateTracing(ActivateTracingRequest) returns (protos.common.ExceptionInfo) {}
	rpc deactivateTracing(protos.common.EmptyMessage) returns (protos.common.ExceptionInfo) {}
	rpc getTraces(protos.common.EmptyMessage) returns (protos.common.GetTracesResponse) {}
	
	
	rpc cleanMetaDataCaches(protos.common.EmptyMessage) returns (protos.common.ExceptionInfo) {}
	rpc closeManagerDb(protos.common.EmptyMessage) returns (protos.common.ExceptionInfo) {}
	rpc closeDb(protos.common.EmptyMessage) returns (protos.common.ExceptionInfo) {}

}
